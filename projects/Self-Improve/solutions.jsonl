{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "ocr.post_toggle_settle_wait", "command": "Wait for OCR image capture to complete after toggle", "how": "After triggering a focus/toggle (Win+C for Copilot), wait a minimum settle window (≥1.2s) and only act on the latest OCR image observation; do not issue another toggle until an OCR image has been captured and assessed."}
{"id": "decision.latest_observation_authoritative", "command": "Make the latest observation the sole source of truth", "how": "Maintain a single current observation; when a new observe returns true, supersede prior checks (set other flags false) and base routing only on the newest OCR/foreground observation, logging a 'foreground_superseded' event."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
{"id": "vscode.foreground_process_gate", "command": "Guard: proceed only when foreground process is Code.exe", "how": "Use GetWindowThreadProcessId to fetch process name and skip actions unless it is Code.exe."}
{"id": "chat.ocr_readiness_gate", "command": "Gate send on template/heuristic chat readiness", "how": "Use template match on chat input image or text heuristics to allow sending only when ready."}
{"id": "palette.hygiene_esc", "command": "Dismiss overlays with ESC and re-observe", "how": "If command palette/search is open, press ESC and capture again instead of typing."}
{"id": "error.input_wrong_search_palette", "command": "Detect and avoid typing in VS Code search/palette", "how": "OCR before/after palette open/type/enter; if overlay tokens (e.g., 'Search', 'Command Palette') are present, log error and skip typing."}
{"id": "copilot.app_send_and_read", "command": "Ensure Copilot app is foreground before send/read", "how": "Verify foreground via window title/class; log misfocus; wait and re-observe OCR until text stabilizes."}
{"id": "chat.cursor_field_verification", "command": "Verify chat input field via OCR before typing", "how": "Observe OCR before text input; check for chat input cues; if mismatch, log 'text_input_wrong_field' and abort."}
{"id": "ocr.observation_checklist", "command": "Observe OCR around TAB/TEXT/ENTER and response", "how": "1) before TAB, 2) after TAB, 3) before TEXT, 4) after TEXT, 5) after ENTER (assess reaction), 6) after Copilot response finishes (observe twice, then analyze)."}
{"id": "decision.policy.ocr_sequential_selection", "command": "Explicit selection after each OCR observe", "how": "After every OCR observe, choose among safe options: close overlay (ESC), adjust focus (toggle/scroll/tab), advance with TAB, type only when input confirmed ready, press ENTER only after pre-check, and for responses run read→wait 1.5s→re-read loops until stabilized or timeout; abstain on ambiguity."}
